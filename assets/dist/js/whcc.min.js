/*! whcc 2020-02-16 */

$(document).ready(function(){const e="https://hacker-news.firebaseio.com/v0/",t=20,o=$(".wrapper"),r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=["January","February","March","April","May","June","July","August","September","October","November","December"];let s=0,a=500;function u(){let u=t;for(;u>0;)s<=a&&(c=storyIDs[s],$.ajax({url:e+"item/"+c+".json",dataType:"json",success:function(e){let t="";t+="<article>",t+='<a href="'+e.url+'" target="_blank"><h2>'+e.title+"</h2></a>",t+="<p>",t+="<strong>"+e.by+"</strong><br/>",t+='<span style="font-style:italic;">'+function(e){let t=new Date(1e3*e),o=r[t.getDay()],s=n[t.getMonth()],a=t.getDate(),u=t.getFullYear(),c=t.getHours()+":"+t.getMinutes();return o+", "+s+" "+a+" "+u+" - "+c}(e.time)+"</span><br/>",t+="</p>",t+="</article>",o.append(t)},error:function(e,t,o){console.log("Status: "+t),console.log("Error: "+o)}}),s++),u--;var c}$.ajax({url:e+"newstories.json",dataType:"json",success:function(e){storyIDs=e,a=storyIDs.length,u(),function(){const e=$(window),t=$(document);e.on("scroll resize",function(){e.scrollTop()+e.height()==t.height()&&u()})}()},error:function(e,t,o){console.log("Status: "+t),console.log("Error: "+o)}})});